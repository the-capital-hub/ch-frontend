"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[7730],{97730:(e,n,a)=>{a.r(n),a.d(n,{default:()=>_});var t=a(65043),s=a(79456),l=a(94773),o=a(70579);const i=e=>{let{company:n,page:a}=e;const i=(0,s.d4)((e=>e.user.loggedInUser)),[c,d]=(0,t.useState)({}),[r,u]=(0,t.useState)(null),[m,h]=(0,t.useState)(!1),x=[{field:"problem",title:"Problem",content:(null===n||void 0===n?void 0:n.problem)||"Enter the problem statement your startup is addressing"},{field:"solution",title:"Solution",content:(null===n||void 0===n?void 0:n.solution)||"Enter the solution your startup is offering"},{field:"marketLandscape",title:"Market Landscape",content:(null===n||void 0===n?void 0:n.competitiveLandscape)||"Mention your competitors"}];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"onepage_card_container",children:x.map(((e,n)=>(0,o.jsx)("div",{className:"card_item",children:(0,o.jsx)("div",{className:"card m-0",children:(0,o.jsxs)("div",{className:"card-body",onClick:()=>u(n),children:[(0,o.jsx)("h5",{className:"card-title",children:e.title}),"oneLinkEdit"===a?r===n?(0,o.jsx)("textarea",{type:"text",className:"card-text m-0 fs-6",placeholder:e.field,value:m||e.content,onChange:e=>h(e.target.value),onBlur:()=>{var n,a;n=e.field,a=m,console.log("field, newValue",n,a),a&&(d({...c,[n]:a}),(0,l.Et)({[n]:a,founderId:i._id}).then((e=>{console.log("saved data",e),window.location.reload()})).catch((e=>console.log(e)))),u(null)},autoFocus:!0}):(0,o.jsx)("h6",{style:{wordBreak:"break-word"},children:e.content}):(0,o.jsx)("h6",{style:{wordBreak:" break-word"},children:e.content})]})})},n)))})})},c=e=>{var n;let{hidden:a,page:s,setTable:l,data:i}=e;const[c,d]=(0,t.useState)({rows:[]});(0,t.useEffect)((()=>{d(i)}),[i]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"table-container",children:[(0,o.jsx)("h2",{className:a&&"hidden",children:"Projections"}),(0,o.jsx)("table",{children:(0,o.jsx)("tbody",{children:null===c||void 0===c||null===(n=c.rows)||void 0===n?void 0:n.map(((e,n)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:e.label}),null===e||void 0===e?void 0:e.values.map(((a,t)=>(0,o.jsx)("td",{children:"oneLinkEditPage"===s?(0,o.jsx)("input",{className:"table_input",placeholder:"0",value:a,onChange:e=>((e,n,a)=>{const t={rows:c.rows.map(((t,s)=>({...t,values:s===e?t.values.map(((e,t)=>t===n?a:e)):t.values})))};d(t),l(t)})(n,t,e.target.value)}):"".concat(a)},"".concat(e.label).concat(t))))]},e.label)))})})]}),(0,o.jsxs)("div",{children:["oneLinkEditPage"===s&&(0,o.jsx)("button",{onClick:()=>{const e=prompt("Enter a name for the new row:","Row ".concat(c.rows.length+1));if(null!==e){const n={label:e,values:Array(c.rows[0].values.length).fill("")};d((e=>({rows:[...e.rows,n]})))}},className:"add_row_btn startup",style:{marginRight:"10px"},children:"+ Add Row"}),"oneLinkEditPage"===s&&(0,o.jsx)("button",{onClick:()=>{d((e=>({rows:e.rows.map((e=>({...e,values:[...e.values,""]})))})))},className:"add_row_btn startup",children:"+ Add Column"})]})]})};var d=a(59025),r=a(73216),u=a(79068),m=a(65239),h=a.n(m),x=a(37762),p=a(46049),v=(a(67029),a(22285)),j=a(36009),g=a(92339),w=a(59996);const f=()=>{var e,n;const a=(0,s.wA)(),m=(0,s.d4)((e=>e.user.loggedInUser)),f=m._id,[k,b]=(0,t.useState)({}),[_,y]=(0,t.useState)({company:"",description:"",location:"",logo:"",keyFocus:"",socialLinks:"",TAM:"",SAM:"",SOM:""}),[N,C]=(0,t.useState)(null),[A,S]=(0,t.useState)([{required:"",amount:""}]),[L,E]=(0,t.useState)([{date:"",milestone:""}]),[M,B]=(0,t.useState)([{name:""}]),[R,P]=(0,t.useState)({rows:[{label:"Revenue",values:[""]},{label:"Expense",values:[""]}]}),T=(0,r.Zp)();(0,t.useEffect)((()=>{(0,l.P7)(f).then((e=>{let{data:n}=e;b(n),y({company:n.company||"",description:n.description||"",logo:n.logo||"",keyFocus:n.keyFocus||"",location:n.location||"",socialLinks:n.socialLinks||[],TAM:n.TAM||"",SAM:n.SAM||"",SOM:n.SOM||"",startedAtDate:n.startedAtDate||""}),S(n.fundingsAsk||A),E(n.roadMap||L),B(n.competitors||M),P(n.projections.length>0?n.projections[0]:R)})).catch((()=>b({})))}),[]);const I=(e,n)=>{const a=n.target.value;a&&y({..._,[e]:a})},F=(e,n)=>{const a=n.target.value,t={..._.socialLinks};t[e]=a,y({..._,socialLinks:t})},O=e=>{e&&(_.logo=e),(0,l.Et)({..._,founderId:m._id}).then((e=>{let{data:n}=e;C(n.logo)})).catch((e=>console.log(e)))},q=(e,n,a)=>{const t=[...A];t[e][n]=a,S(t)},D=(e,n,a)=>{const t=[...L];t[e][n]=a,E(t)},[U,G]=(0,t.useState)(!1),[W,z]=(0,t.useState)("");return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("section",{className:"one_link_edit_view_section w-100 p-3 rounded-4",children:[(0,o.jsx)("span",{className:"back_img rounded-circle shadow-sm d-flex align-items-center justify-content-center",title:"Go Back",onClick:()=>T(-1),children:(0,o.jsx)(w.A,{width:25,height:25,color:"var(--d-l-grey)"})}),(0,o.jsxs)("div",{className:"download_preview p-md-5 ",children:[(0,o.jsxs)("section",{className:" img_company_data d-flex flex-column flex-md-row w-100 justify-content-between align-items-center gap-3",children:[(0,o.jsxs)("div",{className:"img_right ",children:[(0,o.jsxs)("label",{htmlFor:"logoImg",className:"position-relative",children:[(0,o.jsx)("img",{src:N||(null===k||void 0===k?void 0:k.logo),alt:"Selected logo or previous logo",role:"button"}),(0,o.jsx)("span",{className:"position-absolute py-1 px-2 d-flex flex-column justify-content-center align-items-center",style:{fontSize:"15px",padding:"4px",color:"var(--d-l-grey)"},children:"Upload Company Logo"})]}),(0,o.jsx)("input",{type:"file",value:"",id:"logoImg",name:"logo",onChange:async e=>{let{target:n}=e;const a=await(0,p.I)(n.files[0]);console.log(n.files[0]),y((e=>({...e,logo:a}))),O(a)},accept:".jpg, .jpeg, .png, .webp, .svg",hidden:!0})]}),(0,o.jsxs)("div",{className:"compant_data d-flex flex-column gap-3 ",children:[(0,o.jsxs)("div",{className:"startup_Name_inp",children:[(0,o.jsx)("h5",{children:"Startup Name"}),(0,o.jsx)("input",{type:"text",id:"company",name:"company",className:"w-100 px-3",value:_.company,onChange:e=>I("company",e),onBlur:e=>O()})]}),(0,o.jsxs)("div",{className:"location_data_div d-flex flex-column flex-md-row gap-3 w-100 ",children:[(0,o.jsxs)("div",{className:"country  w-100 ",children:[(0,o.jsx)("h5",{children:"City, Country"}),(0,o.jsx)("input",{type:"text",id:"location",name:"location",className:" px-3",value:_.location,onChange:e=>I("location",e),onBlur:e=>O()})]}),(0,o.jsxs)("div",{className:"founded  w-100 ",children:[(0,o.jsx)("h5",{children:"Founded Date"}),(0,o.jsx)("input",{type:"date",id:"founded_date",name:"founded_date",className:" px-3 w-100",value:_.startedAtDate,onChange:e=>I("startedAtDate",e),onBlur:e=>O()})]})]}),(0,o.jsxs)("div",{className:"tags_inp",children:[(0,o.jsx)("h5",{children:"Tags"}),(0,o.jsx)("input",{type:"text",id:"tags",name:"tags",className:" px-3",style:{width:"100%"},value:_.keyFocus,onChange:e=>I("keyFocus",e),onBlur:e=>O()})]})]})]}),(0,o.jsxs)("section",{className:"link_section",children:[(0,o.jsxs)("div",{className:"web_link",children:[(0,o.jsx)("h5",{children:"Website Link"}),(0,o.jsx)("input",{type:"text",id:"website_link",name:"website_link",className:"w-100 px-3",value:null===(e=_.socialLinks)||void 0===e?void 0:e.website,onChange:e=>F("website",e),onBlur:e=>O()})]}),(0,o.jsx)("h4",{children:"Social Links"}),(0,o.jsxs)("div",{className:"social_links d-flex flex-column flex-md-row justify-content-between gap-3",children:[(0,o.jsxs)("div",{className:"links w-100",children:[(0,o.jsx)("h5",{children:"Linkedin"}),(0,o.jsx)("input",{type:"text",id:"link_1",name:"link_1",className:"w-100 px-3",value:_.socialLinks.linkedin,onChange:e=>F("linkedin",e),onBlur:e=>O()})]}),(0,o.jsxs)("div",{className:"links w-100",children:[(0,o.jsx)("h5",{children:"Twitter"}),(0,o.jsx)("input",{type:"text",id:"link_2",name:"link_2",className:"w-100 px-3",value:_.socialLinks.twitter,onChange:e=>F("twitter",e),onBlur:e=>O()})]}),(0,o.jsxs)("div",{className:"links w-100",children:[(0,o.jsx)("h5",{children:"Instagram"}),(0,o.jsx)("input",{type:"text",id:"link_3",name:"link_3",className:"w-100 px-3",value:_.socialLinks.instagram,onChange:e=>F("instagram",e),onBlur:e=>O()})]})]})]}),(0,o.jsxs)("div",{className:"about_company_section my-3",children:[(0,o.jsx)("h5",{children:"About Company"}),(0,o.jsx)("textarea",{type:"text",className:"m-0 fs-6 w-100 p-3",value:_.description,onChange:e=>I("description",e),onBlur:e=>O()})]}),(0,o.jsx)("hr",{className:"my-3"}),(0,o.jsx)("section",{className:"card_section ",children:(0,o.jsx)(i,{company:k,page:"oneLinkEdit"})}),(0,o.jsx)("h4",{children:"Market Size (in Billions $)"}),(0,o.jsxs)("section",{className:"market_size d-flex flex-column flex-md-row justify-content-between gap-3",children:[(0,o.jsxs)("div",{className:"market w-100",children:[(0,o.jsx)("h5",{children:"Total Addressable Market:"}),(0,o.jsx)("input",{type:"text",id:"total_addressable_market",name:"total_addressable_market",className:"w-100 px-3",placeholder:"Enter here",value:_.TAM,onChange:e=>I("TAM",e),onBlur:e=>O()})]}),(0,o.jsxs)("div",{className:"market w-100",children:[(0,o.jsx)("h5",{children:"Service Addressable Market:"}),(0,o.jsx)("input",{type:"text",id:"service_addressable_market",name:"service_addressable_market",className:"w-100 px-3",placeholder:"Enter here",value:_.SAM,onChange:e=>I("SAM",e),onBlur:e=>O()})]}),(0,o.jsxs)("div",{className:"market w-100",children:[(0,o.jsx)("h5",{children:"Service Obtainable Market:"}),(0,o.jsx)("input",{type:"text",id:"service_obtainable_market",name:"service_obtainable_market",className:"w-100 px-3",placeholder:"Enter here",value:_.SOM,onChange:e=>I("SOM",e),onBlur:e=>O()})]})]}),(0,o.jsx)("h4",{children:"Competitor"}),(0,o.jsx)("section",{className:"competitor_social_link d-flex flex-column flex-md-row justify-content-between gap-3",children:null===M||void 0===M?void 0:M.map(((e,n)=>(0,o.jsxs)("div",{className:"competitor_link w-100",children:[(0,o.jsxs)("h5",{children:["Competitor name ",n+1]}),(0,o.jsx)("input",{type:"text",value:e.name,onChange:e=>((e,n)=>{const a=[...M];a[e].name=n,B(a)})(n,e.target.value),className:"w-100 px-3"}),n>0&&(0,o.jsx)("button",{className:"delete_row_btn delete_insideText",onClick:()=>(e=>{const n=M.filter(((n,a)=>a!==e));B(n)})(n),children:(0,o.jsx)(v.Ku6,{})})]},n)))}),(0,o.jsx)("button",{onClick:()=>{const e=[...M,{name:""}];B(e)},className:"add_row_btn startup",children:"+ Add Competitor"}),(0,o.jsx)("section",{className:"table_section mt-4",children:(0,o.jsx)(c,{page:"oneLinkEditPage",setTable:P,data:R})}),(0,o.jsx)("h4",{children:"Fund Asking"}),(0,o.jsx)("section",{className:"fund_sking_section  d-flex flex-column  justify-content-between gap-3",children:null===A||void 0===A?void 0:A.map(((e,n)=>(0,o.jsxs)("div",{className:"d-flex flex-md-row flex-column w-100 gap-2",children:[(0,o.jsxs)("div",{className:"fund_asking w-100",children:[(0,o.jsx)("h5",{children:"Required For"}),(0,o.jsx)("input",{type:"text",value:e.required,onChange:e=>q(n,"required",e.target.value),className:"w-100 px-3"})]}),(0,o.jsxs)("div",{className:"fund_asking w-100",children:[(0,o.jsx)("h5",{children:"Amount"}),(0,o.jsx)("input",{type:"text",value:e.amount,onChange:e=>q(n,"amount",e.target.value),className:"w-100 px-3"})]}),n>0&&(0,o.jsx)("button",{className:"delete_row_btn",onClick:()=>(e=>{const n=[...A];n.splice(e,1),S(n)})(n),children:(0,o.jsx)(v.Ku6,{})})]},n)))}),(0,o.jsx)("button",{onClick:()=>{S([...A,{required:"",amount:""}])},className:"add_row_btn startup",children:"+ Add Row"}),(0,o.jsx)("hr",{}),(0,o.jsx)("h4",{children:"Roadmap"}),(0,o.jsx)("section",{className:"roadmap_section d-flex flex-column justify-content-between gap-3",children:null===L||void 0===L?void 0:L.map(((e,n)=>(0,o.jsxs)("div",{className:"d-flex flex-md-row flex-column w-100 gap-2",children:[(0,o.jsxs)("div",{className:"Roadmap w-100",children:[(0,o.jsx)("h5",{children:"Date"}),(0,o.jsx)("input",{type:"date",name:"date_".concat(n),value:e.date,onChange:e=>D(n,"date",e.target.value),className:"w-100 px-3"})]}),(0,o.jsxs)("div",{className:"Roadmap w-100",children:[(0,o.jsx)("h5",{children:"Milestone"}),(0,o.jsx)("input",{type:"text",name:"milestone_".concat(n),value:e.milestone,onChange:e=>D(n,"milestone",e.target.value),className:"w-100 px-3"})]}),n>0&&(0,o.jsx)("button",{className:"delete_row_btn",onClick:()=>(e=>{const n=[...L];n.splice(e,1),E(n)})(n),children:(0,o.jsx)(v.Ku6,{})})]},n)))}),(0,o.jsx)("button",{className:"add_row_btn startup",onClick:()=>{E([...L,{date:"",milestone:""}])},children:"+ Add Row"}),(0,o.jsx)("hr",{}),(0,o.jsx)("section",{className:"team_section d-flex  flex-row gap-3",children:null===k||void 0===k||null===(n=k.team)||void 0===n?void 0:n.map(((e,n)=>(0,o.jsx)(d.A,{index:n+1,profile:null===e||void 0===e?void 0:e.image,name:null===e||void 0===e?void 0:e.name,designation:null===e||void 0===e?void 0:e.designation,company:k,page:"oneLinkEdit"})))}),(0,o.jsx)("button",{className:"save_btn btn-lg d-block mx-auto mt-3",onClick:async()=>{(0,l.Et)({fundingsAsk:A,roadMap:L,competitors:M,projections:R,founderId:m._id}).then((e=>{let{data:n}=e;if(z("Changes saved"),G(!0),!m.achievements.includes("6564689149186bca517cd0d1")){const e=[...m.achievements];e.push("6564689149186bca517cd0d1");const n={achievements:e};(0,l.yt)(m._id,n).then((e=>{let{data:n}=e;a((0,j.Ne)(n.data));const t={recipient:m._id,type:"achievementCompleted",achievementId:"6564689149186bca517cd0d1"};(0,l.d8)(t).then((e=>console.log("Added"))).catch((e=>console.error(e.message))),g.Ay.dismiss()})).catch((e=>{console.error("Error updating user:",e)}))}})).catch((e=>console.log(e)))},children:"Save"})]}),(0,o.jsx)("section",{className:"button_preview_download_section pdf-hidden",children:(0,o.jsxs)("div",{className:"download_button_container",children:[(0,o.jsx)("button",{onClick:()=>{const e=document.querySelector(".download_preview"),n=document.querySelectorAll("button");n.forEach((e=>{e.style.display="none"})),h()(e,{allowTaint:!1,removeContainer:!0,backgroundColor:"#ffffff",scale:window.devicePixelRatio,useCORS:!0,windowWidth:"1400px"}).then((e=>{const a=e.toDataURL("image/png"),t=210*e.height/e.width;let s=t,l=new x.Ay("p","mm","a4"),o=5;for(l.addImage(a,"PNG",0,o,210,t),s-=295;s>=0;)o=s-t,l.addPage(),l.addImage(a,"PNG",0,o,210,t),s-=295;const i=l.output("blob"),c=URL.createObjectURL(i);window.open(c,"_blank"),n.forEach((e=>{e.style.display="block"}))}))},children:"Preview"}),(0,o.jsx)("button",{className:"download_button",onClick:()=>{const e=document.querySelector(".download_preview"),n=document.querySelectorAll("button");n.forEach((e=>{e.style.display="none"})),h()(e,{allowTaint:!1,removeContainer:!0,backgroundColor:"#ffffff",scale:window.devicePixelRatio,useCORS:!0,windowWidth:"1400px"}).then((e=>{const a=e.toDataURL("image/png"),t=210*e.height/e.width;let s=t,l=new x.Ay("p","mm","a4"),o=5;for(l.addImage(a,"PNG",0,o,210,t),s-=295;s>=0;)o=s-t,l.addPage(),l.addImage(a,"PNG",0,o,210,t),s-=295;l.save("".concat(_.company,".pdf")),n.forEach((e=>{e.style.display="block"}))}))},children:"Download"})]})}),U&&(0,o.jsx)(u.A,{withoutOkButton:!0,onClose:()=>G(!U),successText:W})]})})};var k=a(11088),b=a(55979);const _=()=>{const e=(0,s.wA)();return(0,t.useEffect)((()=>{document.title="Edit OneLink | The Capital Hub",e((0,b.wE)("Edit OneLink"))}),[e]),(0,o.jsx)(k.A,{children:(0,o.jsx)("div",{className:"editpage_container",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)(f,{})})})})}},59996:(e,n,a)=>{a.d(n,{A:()=>s});a(65043);var t=a(70579);function s(e){return(0,t.jsx)("svg",{viewBox:"0 0 512 512",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,t.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:48,d:"M328 112L184 256l144 144"})})}}}]);
//# sourceMappingURL=7730.f7569c57.chunk.js.map