"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[5583],{85583:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var c=t(65043),n=t(73216),l=t(67805),a=t(94773),o=t(79456),i=t(27149),r=t(85369),d=t(79068),u=t(6533),m=t(70579);const h=e=>{let{folderName:s,userId:t}=e;const[n,h]=(0,c.useState)([]),[f,p]=(0,c.useState)(!1),[x,j]=(0,c.useState)(!1),g=(0,o.d4)((e=>e.user.loggedInUser));(0,c.useEffect)((()=>{j(!0),void 0!==t?(0,a.pb)(t,s).then((e=>{h(e.data),j(!1)})).catch((e=>{j(!1),console.error(e.message)})):(0,a.pb)(null===g||void 0===g?void 0:g.oneLinkId,s).then((e=>{h(e.data),console.log(n,"MainData"),j(!1)})).catch((e=>{j(!1),console.error(e.message)}))}),[g,t,s,f]);const v=(e,s)=>{switch(e){case"pdf":return(0,m.jsx)(l.D7o,{size:100,color:"#f34646",cursor:"pointer"});case"image":return(0,m.jsx)("img",{src:s,alt:"Preview",className:"file-preview"});default:return(0,m.jsx)(r.t69,{size:100,color:"#f34646",cursor:"pointer"})}};return(0,m.jsxs)("div",{className:"half_bend_container row",children:[(0,m.jsx)("div",{className:"box_container mt-4",children:(0,m.jsxs)("div",{className:"row",children:[x&&(0,m.jsx)(u.A,{className:"d-flex py-5 justify-content-center align-items-center w-100"}),!x&&(null===n||void 0===n?void 0:n.map(((e,s)=>{const t=e.fileName.split("_"),c=t[t.length-1],n=e.fileName.split(".").pop().toLowerCase();return(0,m.jsx)("div",{className:"col-md-4 d-flex justify-content-center align-items-center main_col",style:{maxWidth:"300px",width:"100%",padding:"1rem"},children:(0,m.jsxs)("div",{className:"custom-card",style:{width:"100%"},children:[(0,m.jsx)("div",{className:"pdf-icon-button",onClick:()=>{return s=e.fileUrl,void(window.open().location=s);var s},children:v(n,e.fileUrl)}),(0,m.jsxs)("div",{className:"d-flex mx-auto",style:{alignItems:"center",padding:"0.5rem 0",justifyContent:"space-between"},children:["pdf"===n?(0,m.jsx)(l.D7o,{size:20,color:"#f34646"}):(0,m.jsx)(r.t69,{size:20,color:"#f34646"}),(0,m.jsx)("h6",{style:{marginBottom:0},children:c}),(null===g||void 0===g?void 0:g._id)===e.userId&&"documentation"===window.location.href.split("/")[3]&&(0,m.jsx)(i.b6i,{size:20,color:"#f34646",style:{cursor:"pointer"},onClick:()=>(e=>{try{(0,a.Nn)(e).then((e=>{console.log(e),p(!0)}))}catch(s){console.log("Error in delete document:",s.response.data.message)}})(e._id)})]})]})},e.fileName)})))]})}),f&&(0,m.jsx)(d.A,{withoutOkButton:!0,onClose:()=>p(!f),successText:"Document Deleted Successfully"})]})};var f=t(11088),p=t(55979);const x=()=>{const{route:e}=(0,n.g)(),{username:s}=(0,n.g)(),{userId:t}=(0,n.g)(),[l,i]=(0,c.useState)([]),r=(0,o.wA)(),d=(0,n.Zp)();(0,c.useEffect)((()=>{document.title="Documents | The Capital Hub",r((0,p.wE)("Documents"))}),[r]),(0,c.useEffect)((()=>{(0,a.kl)(s).then((e=>{let{data:s}=e;i(s)})).catch((()=>i([])))}),[s]);const u=e[0].toUpperCase()+e.slice(1);let x;switch(console.log(e),u){case"Legal and compliance":x="Legal and Compliance";break;case"Pitchdeck":x="Pitch Deck";break;case"Kycdetails":x="KYC Details";break;case"Business":x="Business";break;default:x=u}return(0,m.jsx)(f.A,{children:(0,m.jsxs)("div",{className:"folderContents",children:[(0,m.jsxs)("div",{className:"w-100 d-flex justify-content-center align-items-center border-bottom px-2 py-2",children:[(0,m.jsx)("button",{className:"btn  border mx-3",onClick:()=>d(-1),children:"Back"}),(0,m.jsx)("h1",{className:"flex-grow-1",children:x})]}),(0,m.jsx)(h,{folderName:e,userId:t})]})})}}}]);
//# sourceMappingURL=5583.63f59356.chunk.js.map