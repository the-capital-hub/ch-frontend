"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[60],{45981:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var a=s(35475),o=s(70579);function n(){return(0,o.jsx)("div",{className:"looking_for_fund_wrapper bg-black text-white py-3",children:(0,o.jsxs)("div",{className:"d-flex align-items-center justify-content-around justify-content-md-between px-md-4 flex-wrap gap-3",children:[(0,o.jsx)("p",{className:"m-0 fs-5",children:"Apply for funding."}),(0,o.jsx)(a.N_,{to:"/funding",className:"btn orange_button d-flex align-items-center justify-content-center",children:(0,o.jsx)("span",{children:"Click Here"})})]})})}},8230:(e,t,s)=>{s.d(t,{A:()=>o});s(65043);var a=s(70579);const o=e=>{let{title:t,description:s,url:o,urlToImage:n,publishedAt:r}=e;return(0,a.jsxs)("div",{className:"news-card",children:[(0,a.jsx)("img",{src:n,alt:t,className:"news-card__image"}),(0,a.jsx)("h3",{className:"news-card__title",children:t}),(0,a.jsx)("p",{className:"news-card__description",children:s}),(0,a.jsx)("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"news-card__link",children:"Read more"})]})}},93726:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var a=s(65043),o=s(76085),n=s(44420),r=s(76361),i=s(24916),l=s(94773),d=s(79456),c=s(90447),u=s(66729),p=s(73216),m=s(6533),h=s(11088),g=s(64997),f=s(55979),x=s(66047),v=s(4651),j=s(45981),N=s(27770),y=s(88326),w=s(92823),b=s.n(w),A=(s(25884),s(86213)),_=s(70579);const P=e=>{let{setArticlePopup:t,articlePopup:s}=e;const o=(0,d.d4)((e=>e.user.loggedInUser)),[n,r]=(0,a.useState)(""),i=(0,a.useRef)(null),c=(0,a.useRef)(null),u={toolbar:{container:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike","blockquote"],[{align:[]}],[{color:[]},{background:[]}],["link","image"],["clean"]],handlers:{image:()=>c.current.click()}}},p=(0,a.useMemo)(((e,t,s,a)=>r(e)),[n]),m=(e,t)=>{const s=e.split(","),a=s[0].match(/:(.*?);/)[1],o=atob(s[1]);let n=o.length;const r=new Uint8Array(n);for(;n--;)r[n]=o.charCodeAt(n);return new File([r],t,{type:a})};return(0,_.jsxs)(_.Fragment,{children:[s&&(0,_.jsx)("div",{className:"createpost-background-overlay"}),(0,_.jsx)("div",{className:"create_post_modal rounded-4 p-md-2 ".concat(s?"d-block":""),tabIndex:"-1",role:"dialog",style:{maxWidth:"1000px",width:"100%"},children:(0,_.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",style:{flexDirection:"column"},children:(0,_.jsxs)("div",{className:"modal-content",children:[(0,_.jsxs)("div",{className:"createpost_modal-header",children:[(0,_.jsx)("div",{className:"createpostpopup",children:(0,_.jsxs)("div",{className:"ceatepost_img_name",children:[(0,_.jsx)("img",{src:o.profilePicture,width:50,height:50,style:{objectFit:"cover"},className:"rounded-circle",alt:"profile pic"}),(0,_.jsx)("span",{children:(0,_.jsxs)("h2",{children:[null===o||void 0===o?void 0:o.firstName," ",o.lastName]})})]})}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{type:"button",className:"close d-flex justify-content-end",onClick:()=>t(!1),style:{background:"transparent",border:"none"},children:(0,_.jsx)("h3",{"aria-hidden":"true",className:"m-3",children:"\xd7"})})})]}),(0,_.jsxs)("div",{className:"modal-body",children:[(0,_.jsx)(b(),{value:n,onChange:p,modules:u,ref:i}),(0,_.jsx)("input",{type:"file",accept:"image/*",ref:c,style:{display:"none"},onChange:async()=>{const e=c.current;if(e&&e.files[0]){const s=e.files[0],a=new FormData;a.append("file",s),a.append("upload_preset","fiverr");try{const e=await A.A.post("https://api.cloudinary.com/v1_1/dndcersc4/upload",a,{withCredentials:!1}),t=i.current.getEditor(),s=t.getSelection();s&&t.insertEmbed(s.index,"image",e.data.url)}catch(t){console.error("Error uploading file:",t)}}}}),(0,_.jsx)("div",{onClick:async()=>{const e=i.current.getEditor().root.innerHTML,t=document.createElement("div");t.innerHTML=e;const s=t.querySelectorAll("img"),a=Array.from(s).map((async e=>{if(e.src.startsWith("data:")){const t=m(e.src,"image.png"),s=new FormData;s.append("file",t),s.append("upload_preset","fiverr");const a=await A.A.post("https://api.cloudinary.com/v1_1/dndcersc4/upload",s,{withCredentials:!1});e.src=a.data.url}}));try{await Promise.all(a);const e=t.innerHTML,s=await(0,l.o6)(e);console.log("Updated Content:",s)}catch(o){console.error("Error during submission:",o)}},style:{cursor:"pointer"},children:"Post"})]})]})})})]})};var k=s(8230);const I=N.c.baseUrl,S=()=>{const e=(0,d.d4)((e=>e.user.loggedInUser)),t=(0,d.d4)(f.WG),{postId:s}=(0,p.g)(),N=(0,d.wA)(),[w,b]=(0,a.useState)({userId:"",postId:"",designation:"",startUpCompanyName:"",investorCompanyName:"",profilePicture:"",description:"",firstName:"",lastName:"",oneLinkId:"",video:"",image:"",documentName:"",documentUrl:"",createdAt:"",likes:"",response:"",repostLoading:"",resharedPostId:"",isSubscribed:!1,location:""}),[A,S]=(0,a.useState)([]),[C,U]=(0,a.useState)(!1),[E,T]=(0,a.useState)([]),[D,L]=(0,a.useState)(!1),F=localStorage.getItem("userVisit"),[M,H]=(0,a.useState)(!1),[W,R]=(0,a.useState)(""),[O,V]=(0,a.useState)(!0),[q,z]=(0,a.useState)(1);(0,a.useEffect)((()=>{Number(F)<=1&&N((0,f.VV)(!0))}),[]),(0,a.useEffect)((()=>{U(t)}),[t]),(0,a.useEffect)((()=>{(async()=>{try{var e;const t=await fetch("".concat(I,"/news/getTodaysNews")),s=await t.json(),a=(null===s||void 0===s||null===(e=s.articles)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.title)&&(null===e||void 0===e?void 0:e.description)&&(null===e||void 0===e?void 0:e.url)&&(null===e||void 0===e?void 0:e.urlToImage)&&(null===e||void 0===e?void 0:e.publishedAt))))||[];S(a)}catch(t){console.error("Error fetching news:",t)}})()}),[]);const G=()=>{U(!C),N((0,f.aS)())},Z=e=>{T((t=>[e,...t]))},B=e=>{const t=E.filter((t=>t._id!==e));T(t)},J=()=>{(0,l.rw)(q).then((e=>{let{data:t}=e;if(0===(null===t||void 0===t?void 0:t.length))V(!1);else{const e=t.filter((e=>"company"!==e.postType));T([...E,...e]),z(q+1)}})).catch((e=>{V(!1),console.log(e)}))},K=(0,p.zy)(),Q="true"===new URLSearchParams(K.search).get("showPopup");(0,a.useEffect)((()=>{if(Q){U(!0);const e=K.pathname;window.history.replaceState({},"",e)}}),[K]),(0,a.useEffect)((()=>{(0,l.hI)(e._id).then((e=>{R(e)})),J()}),[]),(0,a.useEffect)((()=>{document.title="Home | The Capital Hub",N((0,f.wE)("Home"))}),[N]);const[X,Y]=(0,a.useState)({instant:!1,withThoughts:!1}),[$,ee]=(0,a.useState)(""),te=e=>{Y({...X,instant:!0}),(0,l.OZ)({resharedPostId:e}).then((()=>J())).catch((e=>console.log(e))).finally((()=>Y({...X,instant:!1})))};return(0,_.jsx)(h.A,{children:(0,_.jsxs)("div",{className:"mx-0 feed_container",children:[s?(0,_.jsx)(y.A,{userId:w.userId,postId:s,designation:w.designation,startUpCompanyName:w.startUp,investorCompanyName:w.investor,profilePicture:w.profilePicture,description:w.description,firstName:w.firstName,lastName:w.lastName,oneLinkId:w.oneLinkId,video:w.video,image:w.image,documentName:w.documentName,documentUrl:w.documentUrl,createdAt:w.createdAt,likes:w.likes,location:w.location,resharedPostId:w.resharedPostId,fetchAllPosts:J,response:W,repostWithToughts:e=>{ee(e),G()},repostInstantly:te,repostLoading:X,deletePostFilterData:B,setPostData:b,isSubscribed:w.isSubscribed}):(0,_.jsxs)("div",{className:"main_content",children:[console.log("post ka hai ye data",w),(0,_.jsxs)("div",{className:"Posts__column d-flex flex-column gap-2",children:[(0,_.jsx)(o.A,{className:"d-none d-md-block",text:"Home"}),(0,_.jsx)(v.A,{steps:x.C.homePage}),(0,_.jsx)(j.A,{}),(0,_.jsx)("div",{className:"rounded-2 start_post_container",style:{flexDirection:"column"},children:(0,_.jsxs)("div",{className:"start_post_container",style:{width:"100%"},children:[(0,_.jsx)("img",{src:e.profilePicture,alt:"Profile",className:"rounded-circle object-fit-cover",style:{width:"50px",height:"50px"}}),(0,_.jsx)("div",{className:"w-auto flex-grow-1 me-4",onClick:G,style:{cursor:"pointer"},children:(0,_.jsx)("input",{className:"px-3 flex-grow-1",type:"text",placeholder:"Write a post...",style:{pointerEvents:"none"}})})]})}),(0,_.jsx)("div",{className:"posts__container d-flex flex-column gap-3",children:(0,_.jsx)(g.A,{className:"m-0 p-0",dataLength:E.length+A.length,next:J,hasMore:O,loader:(0,_.jsx)("div",{className:"loader_spinner container p-5 text-center my-5  rounded-5 shadow-sm ",children:(0,_.jsx)(m.A,{colorClass:"d-l-grey"})}),children:null===E||void 0===E?void 0:E.map(((e,t)=>{var s,o,n,i,l;let{description:d,user:c,video:u,image:p,documentUrl:m,documentName:h,createdAt:g,likes:f,_id:x,resharedPostId:v}=e;if(!c)return null;const{firstName:j,lastName:N,location:y,designation:w,profilePicture:P,_id:I,startUp:S,investor:C,oneLinkId:U,isSubscribed:E}=c;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(r.A,{userId:I,postId:x,designation:w,startUpCompanyName:S,investorCompanyName:C,profilePicture:P,description:d,firstName:j,lastName:N,oneLinkId:U,video:u,image:p,location:y,documentName:h,documentUrl:m,createdAt:g,likes:f,resharedPostId:v,fetchAllPosts:J,response:W,repostWithToughts:e=>{ee(e),G()},repostInstantly:te,repostLoading:X,deletePostFilterData:B,setPostData:b,isSubscribed:E},x),(t+1)%3===0&&(0,_.jsx)(k.A,{title:null===(s=A[Math.floor(t)])||void 0===s?void 0:s.title,description:null===(o=A[Math.floor(t)])||void 0===o?void 0:o.description,url:null===(n=A[Math.floor(t)])||void 0===n?void 0:n.url,urlToImage:null===(i=A[Math.floor(t)])||void 0===i?void 0:i.urlToImage,publishedAt:null===(l=A[Math.floor(t)])||void 0===l?void 0:l.publishedAt})]},x)})}))})})]}),C&&(0,_.jsx)(i.A,{setPopupOpen:U,popupOpen:!0,setNewPost:L,respostingPostId:$,appendDataToAllPosts:Z}),M&&(0,_.jsx)(P,{setArticlePopup:H,articlePopup:M,setNewPost:L,respostingPostId:$,appendDataToAllPosts:Z})]}),(0,_.jsxs)("div",{className:"right_content",children:[(0,_.jsx)(n.A,{}),(0,_.jsx)(u.A,{}),(0,_.jsx)(c.A,{})]})]})})}},76085:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);s.p;var a=s(79456),o=s(70579);const n=e=>{let{className:t,text:s,width:n}=e;(0,a.d4)((e=>e.user.loggedInUser)),r=(new Date).toDateString(),new Date(r).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric"});var r;return(0,o.jsx)(o.Fragment,{})}}}]);
//# sourceMappingURL=60.402ed1d4.chunk.js.map