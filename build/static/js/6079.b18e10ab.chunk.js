"use strict";(self.webpackChunkthecapitalhub=self.webpackChunkthecapitalhub||[]).push([[6079],{76079:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(65043),i=n(90221),d=n(24966),s=n(79068),r=n(33865),l=n(73216),o=n(79456),c=n(55979),x=n(86178),u=n.n(x),p=n(94773),h=n(55775),g=n(79120),m=n(36009),f=n(95263),j=n(70579);const b=e=>{let{setDate:t}=e;const n=new Date,[i,d]=(0,a.useState)(n),[s,r]=(0,a.useState)(null),l=(e=>{const t=(e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate())(e),n=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(e),a=[];for(let i=0;i<n;i++)a.push("");for(let i=1;i<=t;i++)a.push(i);return a})(i),o=i.toLocaleString("default",{month:"long"}),c=i.getFullYear();return(0,j.jsxs)("div",{className:"calendar-container",children:[(0,j.jsxs)("div",{className:"calendar-header",children:[(0,j.jsx)("button",{onClick:()=>{d(new Date(i.getFullYear(),i.getMonth()-1,1))},children:(0,j.jsx)(f.oWm,{})}),(0,j.jsx)("h4",{children:"".concat(o," ").concat(c)}),(0,j.jsx)("button",{onClick:()=>{d(new Date(i.getFullYear(),i.getMonth()+1,1))},children:(0,j.jsx)(f.j6T,{})})]}),(0,j.jsxs)("div",{className:"calendar-grid",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>(0,j.jsx)("div",{className:"calendar-day-header",children:e},e))),l.map(((e,a)=>{const d=new Date(i.getFullYear(),i.getMonth(),e),l=d<n&&""!==e,o=d.toDateString()===n.toDateString(),c=s&&d.toDateString()===s.toDateString();return(0,j.jsx)("div",{className:"calendar-day ".concat(""===e?"empty":""," ").concat(l?"disabled":""," ").concat(o?"today":""," ").concat(c?"selected":""),onClick:()=>!l&&(e=>{const n=new Date(i.getFullYear(),i.getMonth(),e);s&&n.getDate()===s.getDate()?(r(""),t("")):(r(n),t(n))})(e),children:e},a)}))]})]})};var y=n(46049);const v=["00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30"];function w(){const{userId:e}=(0,l.g)(),t=(0,o.d4)(m.kK),n=(0,o.d4)((e=>e.user.loggedInUser)),[x,f]=(0,a.useState)(!1),[w,k]=(0,a.useState)("10:00"),[C,D]=(0,a.useState)("10:30"),[N,S]=(0,a.useState)(""),[M,F]=(0,a.useState)("AM"),[A,I]=(0,a.useState)(""),R=(0,a.useRef)(null),[_,Y]=(0,a.useState)(null),T=(0,o.d4)(c.SJ),W=(0,o.wA)(),[B,L]=(0,a.useState)(u()().format("YYYY-MM-DD"));(0,a.useEffect)((()=>{document.title="Appointment | The Capital Hub",W((0,c.wE)("Appointment"))}),[W]);return(0,j.jsxs)("div",{className:"appointment_wrapper mb-5",children:[(0,j.jsx)("h2",{className:"mb-3 px-3 px-xxl-0 fw-bold page_heading",children:"Schedule an appointment"}),(0,j.jsxs)("section",{className:"appointment_section py-4 rounded-4 border d-flex flex-column gap-4",children:[(0,j.jsx)("h4",{className:"div__heading px-3 px-lg-4",children:"Select Date & Time"}),(0,j.jsxs)("div",{className:"two_col_container",children:[(0,j.jsxs)("div",{className:"calendar d-flex",style:{padding:"2rem",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,j.jsxs)("div",{className:"calender__div",style:{maxWidth:"600px",width:"100%"},children:[(0,j.jsx)("div",{className:"calender rounded-2",style:{width:"600px",background:"#212224"},children:(0,j.jsx)(b,{setDate:L,date:B})}),(0,j.jsx)("p",{style:{paddingTop:"1rem"},children:"Time"}),(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{style:{marginBottom:0},children:"From"}),(0,j.jsxs)("div",{style:{display:"flex",background:"#3c3e45",maxWidth:"100px",padding:"10px",alignItems:"center",borderRadius:"10px"},children:[(0,j.jsx)(i.YmN,{}),(0,j.jsx)("select",{style:{background:"transparent",border:"none",outline:"none"},onChange:e=>{k(e.target.value)},children:v.map((e=>(0,j.jsx)("option",{value:e,style:{color:"#000"},children:e},e)))})]})]}),(0,j.jsxs)("div",{style:{marginLeft:"1rem"},children:[(0,j.jsx)("p",{style:{marginBottom:0},children:"To"}),(0,j.jsxs)("div",{style:{display:"flex",background:"#3c3e45",maxWidth:"100px",padding:"10px",alignItems:"center",borderRadius:"10px"},children:[(0,j.jsx)(i.YmN,{}),(0,j.jsx)("select",{style:{background:"transparent",border:"none",outline:"none"},onChange:e=>{D(e.target.value)},children:v.map((e=>(0,j.jsx)("option",{value:e,style:{color:"#000"},children:e},e)))})]})]}),(0,j.jsxs)("div",{style:{marginLeft:"2rem"},children:[(0,j.jsx)("p",{style:{marginBottom:0},children:"Time"}),(0,j.jsxs)("div",{style:{display:"flex",background:"#3c3e45",borderRadius:"10px"},children:[(0,j.jsx)("div",{style:{background:"AM"===M?"#DDFF71":"transparent",color:"AM"===M?"#000":"#fff",padding:"10px",borderRadius:"10px",cursor:"pointer"},onClick:()=>{F("AM")},children:"AM"}),(0,j.jsx)("div",{style:{background:"PM"===M?"#DDFF71":"transparent",color:"PM"===M?"#000":"#fff",padding:"10px",borderRadius:"10px",cursor:"pointer"},onClick:()=>{F("PM")},children:"PM"})]})]})]})]}),(0,j.jsxs)("div",{className:"rounded-2",style:{background:"dark"===T?"#212224":"#f5f5f5",maxWidth:"600px",width:"100%",padding:"2rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{children:"Meeting Title"}),(0,j.jsx)("input",{className:"profile_edit_field w-100",style:{border:"none",borderRadius:"5px",padding:"10px",background:"#35363A"},value:A,onChange:e=>{I(e.target.value)}})]}),(0,j.jsxs)("div",{style:{paddingTop:"0.5rem"},children:[(0,j.jsx)("p",{style:{marginBottom:0},children:"Meeting Duration"}),(0,j.jsxs)("p",{children:[(0,j.jsx)(i.YmN,{})," 1 hour"]})]}),(0,j.jsx)("div",{style:{margin:"0.3rem 0 0.5rem",width:"100%"},children:_?(0,j.jsxs)("div",{style:{color:"#fff",background:"#2D2D2D",marginBottom:"0.4rem",borderRadius:"10px",padding:"1rem 0.5rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,j.jsx)(r.kvm,{color:"#8C5AC9",size:30}),(0,j.jsx)("p",{style:{marginBottom:0},children:_.name}),(0,j.jsx)("button",{style:{padding:"0px 20px",border:"none",background:"#FF6C6C",borderRadius:"5px"},onClick:()=>{Y(null)},children:"Delete"})]}):(0,j.jsxs)("div",{style:{width:"100%",background:"rgba(140, 90, 201, 0.08)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1rem 0",borderRadius:"5px",border:"2px dotted",color:"#8C5AC9",position:"relative",cursor:"pointer"},onClick:()=>{R.current.click()},children:[(0,j.jsx)(d.mi7,{color:"#8C5AC9",size:55}),(0,j.jsx)("p",{style:{color:"dark"===T?"#fff":"#000"},children:"Upload files for meeting"}),(0,j.jsx)("input",{id:"file-input",type:"file",ref:R,onChange:e=>{const t=e.target.files[0];Y(t)},style:{display:"none"}})]})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{children:"Agenda"}),(0,j.jsx)("textarea",{className:"profile_edit_field w-100",style:{border:"none",borderRadius:"5px",padding:"10px",background:"#35363A",minHeight:"100px"},value:N,onChange:e=>{S(e.target.value)}})]})]})]}),(0,j.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"flex-end",justifyContent:"flex-end",padding:"0 2rem"},children:[(0,j.jsx)("button",{style:{background:"#ff0000",border:"none",padding:"10px 20px",borderRadius:"25px",marginRight:"15px",maxWidth:"150px",width:"100%"},children:"Cancel"}),(0,j.jsx)("button",{style:{background:"#DDFF71",border:"none",padding:"10px 20px",borderRadius:"25px",color:"black",maxWidth:"200px",width:"100%"},onClick:async()=>{try{if(t===e)return void alert("Same user cannot book a meeting");let a="";_&&(a=await(0,y.I)(_));const i={start:w,end:C,title:A,agenda:N,oneLinkId:e,doc:a,timing:M};if(n.meetingToken){const{data:a}=await(0,p.Ii)({...i});if(a){const i={recipient:e,type:"onlinkRequest",achievementId:"658bb97a8a18edb75e6f4243"};f(!0);const d=a.userId;await(0,p.RL)(d,t).then((async e=>{var a;if("Chat already exists"===e.message){var d;await(0,p.d8)(i);const a={id:(0,g.$C)(),senderId:t,text:"".concat(n.firstName," ").concat(n.lastName," has scheduled a meeting with you on ").concat(B," at ").concat(w," ").concat(M),chatId:null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d._id};return void await(0,p.tj)(a)}await(0,p.d8)(i),W((0,h.Yr)(null===e||void 0===e?void 0:e.data._id));const s={id:(0,g.$C)(),senderId:t,text:"".concat(n.firstName," ").concat(n.lastName," has scheduled a meeting with you on ").concat(B," at ").concat(w," ").concat(M),chatId:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a._id};await(0,p.tj)(s)})).catch((e=>{console.error("Error creating chat--\x3e",e)}))}}else{const e=await(0,p.cs)(window.location.href);window.location.href=e.data}}catch(a){console.error("Create meeting error:",a)}},children:"Create a schedule"})]})]})]}),x&&(0,j.jsx)(s.A,{withoutOkButton:!0,onClose:()=>f(!x),successText:"Authentication with Google completed"})]})}}}]);
//# sourceMappingURL=6079.b18e10ab.chunk.js.map